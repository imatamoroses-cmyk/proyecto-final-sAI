SELECT 
    c.nombre,
    c.apellido,
    ci.fecha_cita
FROM cliente c
JOIN cita ci ON c.id_cliente = ci.id_cliente
WHERE ci.fecha_cita BETWEEN '2025-01-01' AND '2025-03-31'
ORDER BY ci.fecha_cita;

SELECT 
    s.nombre_servicio,
    SUM(d.subtotal) AS total_vendido
FROM detalle_cita d
JOIN servicio s ON d.id_servicio = s.id_servicio
GROUP BY s.nombre_servicio
ORDER BY total_vendido DESC;


SELECT 
    e.nombre,
    e.apellido,
    COUNT(ci.id_cita) AS total_citas
FROM empleado e
JOIN cita ci ON e.id_empleado = ci.id_empleado
GROUP BY e.nombre, e.apellido;


SELECT 
    ci.id_cita,
    c.nombre || ' ' || c.apellido AS cliente,
    s.nombre_servicio,
    d.cantidad,
    d.subtotal
FROM detalle_cita d
JOIN cita ci ON d.id_cita = ci.id_cita
JOIN cliente c ON ci.id_cliente = c.id_cliente
JOIN servicio s ON d.id_servicio = s.id_servicio;
